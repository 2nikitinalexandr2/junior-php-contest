# Тестовое задание для кандидатов на позицию junior backend-developer

## Подготовка

1) Создайте свой пустой репозиторий на github (без форка этого репозитория)
2) Скачайте этот репозиторий как zip-архив и распакуйте
3) Закомитьте распакованные файлы в свой пустой репозиторий как `test begin`
4) Когда закончите выполнение задания и успешно пройдете тест через phpunit, закомитье изменения как `test passed`
5) Отправьте своё резюме и ссылку на ваш репозиторий на `undermuz@gmail.com`

## Зависимости

Нужно убедиться что в php.ini включены нужные расширения: mbstring и sqlite3

Установить composer локально или глобально

Установить зависимости: `php composer.phar install` (`composer install`)

Проверка будет производиться на версии PHP 8.0.15

## Настройте код для работы с БД

В файле `src\db\connection.php` должно быть подключение к БД sqlite
В файле `scr\db\initial.php` должно быть создание начальных таблиц для работы кода (ссылка на подключение с предыдущего шага будет в аргументе функции):

`user`

1) id - число, уникальный, авто-инкремент
2) email - строка
3) first_name - строка
4) last_name - строка
5) password - строка
6) created_at - число

`post`

1) id - число, уникальный, авто-инкремент
2) title - строка
3) body - строка
4) creator_id - связь с user.id
5) created_at - число

Выполните команду `php composer.phar bootstrap` (`composer bootstrap`)

Нужно убедиться что база данных создана верно, через программу для просмотра sqlite баз данных

## Создайте модели

В папке `src\Models` должны быть созданы классы User и Post отвечающие за соответствующие таблицы в БД

Экземпляр класса каждой модели должен хранить соответствующие поля как свойства класса, и метод сохранения в таблицу

Класс каждый модели должен иметь статический метод findOne который возвращает последнюю (по ID) запись в соответствующей таблице как экземпляр класса

При создании записи в таблицах, должен указываться created_at = текущий unix-timestamp
После записи в таблицу, в экземпляре класса должен установиться ID из БД (полученный авто-инкрементом)

Получить текущее подключение к БД из `src\db\connection.php` можно через App\db\DB::getInstance()->getConnection();

## Запустите тест

Выполните команду `php composer.phar test` (`composer test`)
